<body >
    <div class="container" >
        <form class="needs-validation" *ngIf="form" [formGroup]="form">
            <br />
            <h4 class="text-dark text-center">Registro Paciente</h4>
            <br />
           
            <div class="row mx-3">
                <div class="form-group col-md-6">
                    <label for="nombre">Nombre</label>
                    <input type="text" class="form-control" id="nombre"  autocomplete="off"  formControlName="nombre">
                </div>
                <br />
                <div class="form-group col-md-6">
                    <label for="apellido">Apellido</label>
                    <input type="text" class="form-control" id="apellido"  autocomplete="off" formControlName="apellido"> 
                </div>
                <br />
            </div>

            <div class="row mt-4 mx-3">

                <div class="form-group col-md-6">
                    <label for="inputEmail4">Email</label>
                    <input type="email" class="form-control" id="email" placeholder="ejemplo@email.com" autocomplete="off"  formControlName="email">
                </div>
                <br />
                <div class="form-group col-md-6">
                    <label for="inputPassword4">Password</label>
                    <input type="password" class="form-control" id="password" placeholder="1-8 caracteres" autocomplete="off" formControlName="password">
                </div>


            
            </div>

            <div class="row mt-4 mx-3">


                <div class="form-group col-md-3">
                    <label for="Edad">Edad</label>
                    <input type="number" class="form-control" id="edad" placeholder="1-100" autocomplete="off"  formControlName="edad"> 
                </div>

                <div class="form-group col-md-6">
                    <label for="obrasSociales">Obra Social</label>
                    <select *ngIf="listadoObrasSociales && listadoObrasSociales[0]?.prestadores" id="obraSocial" class="form-control"  formControlName="obraSocial">
                        <option [value]="" hidden selected >Selecciona su Obra Social</option>
                        <option *ngFor="let item of listadoObrasSociales[0].prestadores">{{ item }}</option>
                    </select>
                </div>

                <div class="form-group col-md-3">
                    <label for="dni">DNI</label>
                    <input type="text" class="form-control" id="dni" autocomplete="off" formControlName="dni">
                </div>
            
            </div>
            <br />

            <p class="text-danger text-center" *ngIf="mensajeError.length>0">Campos inválidos: {{ mensajeError.join(', ') }}</p>


            <p class="text-success" *ngIf="mensajeExito!='' ">{{mensajeExito}}</p>


                <div class="col-md-6 offset-md-3 text-center" *ngIf="form.get('edad')?.value !== '' && form.get('dni')?.value !== '' && form.get('obraSocial')?.value !== '' " >
                    <hr>
                    <h4 class="text-dark text-center">Imágen de Perfil</h4>
                    <input type="file" class="form-control" accept=".png, .jpg,.jpeg" multiple  id="inputFile" (change)="onFileChange($event)">
                </div>

                <div style="text-align: center;" *ngIf="imagenIngresada">
                    <button *ngIf="!spinner"  class="btn btn-lg btn-success my-3" (click)="aceptar()">Enviar Datos</button>
                </div>

                <div *ngIf="spinner" class="spinner-container text-center mt-4">
                    <img src="../../../../assets/img/spinner.png"alt="spinner">
    
                  </div>

           
            <br />
        </form>
    </div>
</body>