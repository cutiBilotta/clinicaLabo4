<body>
    <div class="container">
      
      <br/><br/>
      <h1 class="text-center">Solicitar Turnos</h1>


      <div class="card mt-5 text-center">
        <h5 class="card-header text-center" style="background-color: #88abc2;">Turnos</h5>
        <div class="card-body" style="background-color: #d0e0eb;">
          <form  #turnoForm="ngForm">
            <div class="row">
            <div class="col"></div>
            <div class="col-8">

              <br/>
                
                <label for="especialidad"><b>Especialistas</b></label><br/><br/>
                
                <div>
                 <div *ngIf="!spinner">
    
                    <div >
                      <button *ngFor="let usuario of especialistas" type="button" class="btn my-2 mx-4 btn-lg" style="background-color: #88abc2;" (click)="seleccionarEspecialista(usuario)">
                        <img [src]="usuario.imagenURL" style="width: 100px; height: 100px;"> <br/>
                        {{ usuario.nombre }} {{usuario.apellido}}
                      </button>
                    </div>     
                </div>
    
    
                <div *ngIf="spinner" class="spinner-container text-center mb-4">
                  <img src="../../../../assets/img/spinner.png"alt="spinner">
                </div>
    
    
              </div>

              <div *ngIf="especialidadesDelEspecialista!=undefined && especialidadesDelEspecialista.length > 0">
                <hr>
                <label for="especialidad"><b>Especialidad</b></label> <br/><br/>
                <div class="row">

                <ng-container *ngFor="let especialidad of especialidadesDelEspecialista">

                      <div class="col">
                      <button type="button" class="btn my-2 btn-lg" style="background-color: #88abc2;" (click)="seleccionarEspecialidad(especialidad)">
                        <b>{{ especialidad }}</b><br/>

                        <img [src]="getImage(especialidad)" style="width: 100px; height: 100px;"> <br/>
                      </button>
                      </div>




                  
                </ng-container >
              </div>

                <br/>
              </div>
                <br/>

                <br/>
                <hr>
                <br/>

                <label for="fechaElegida"><b>Fecha</b></label><br/><br/>

                <div *ngIf="fechasGeneradas != undefined">
                  <div *ngFor="let fecha of fechasGeneradas">
                    <label>
                      <input type="radio" name="fechaElegida" (change)="seleccionarFecha($event)" [value]="fecha.dia + '/' + fecha.mes">
                      {{ fecha.dia }}/{{ fecha.mes }}
                    </label>
                  </div>
                </div>

                <br/>
                <hr>
                <br/>

                <label for="horaElegida"><b>Horario</b></label><br/><br/>

                <div *ngIf="horariosGenerados != undefined">
                  <div *ngFor="let hora of horariosGenerados">
                    <label>
                      <input class="form-check-input" type="radio" name="horaElegida" (change)="seleccionarHorario($event)" [value]="hora">
                      {{ hora }}
                    </label>
                  </div>
                </div>


                <div *ngIf="esAdmin && listadoPacientes!=undefined && listadoPacientes.length>0">
                  
                  <br/>
                  <hr>
                  <br/>
                  <label for="paciente"><b>Paciente</b></label><br/><br/>

                  <select   class="form-select" name="paciente" id="paciente" (change)="seleccionarPaciente($event)">
                    <option value="">Selecciona un Paciente</option>
                    <ng-container *ngFor="let paciente of listadoPacientes">
                      <option [value]="paciente.id">{{ paciente.nombre }} {{ paciente.apellido }} - {{paciente.dni}}</option>
                    </ng-container>
                  </select>
                </div>
                <br/>
                  <hr>
                  <br/>

                <div style="text-align: center;">
                <button class="btn btn-lg" style="background-color: #caff42;" (click)="aceptar(); turnoForm.resetForm()">Aceptar</button>
                </div>
                <br/><br/>

                <div *ngIf="mostrarCaptcha">
                  
                </div>
              </div>
          
            <div class="col"></div>
          </div>
          </form>
        </div>

      </div>

    </div>
    <br/><br/><br/><br/> 

</body>