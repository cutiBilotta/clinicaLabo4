"use strict";(self.webpackChunkclinica=self.webpackChunkclinica||[]).push([[832],{6832:(w,f,r)=>{r.r(f),r.d(f,{MisTurnosModule:()=>z});var n=r(6814),h=r(1826);class m{constructor(c,i,a,o,s){this.especilistaId=c,this.pacienteId=i,this.calificacion=a,this.comentario=o,this.turnoId=s}toJSON(){return{especilistaId:this.especilistaId,pacienteId:this.pacienteId,calificacion:this.calificacion,comentario:this.comentario,turnoId:this.turnoId}}}var t=r(5879),C=r(6751),x=r(4108),d=r(7045),b=r(95);function v(e,c){if(1&e&&(t.TgZ(0,"th",16),t._uU(1),t.qZA()),2&e){const i=c.$implicit;t.xp6(1),t.Oqu(i)}}function g(e,c){if(1&e&&(t.ynx(0),t.TgZ(1,"p",26),t._uU(2),t.qZA(),t.BQk()),2&e){const i=t.oxw().$implicit,a=t.oxw().$implicit;t.xp6(2),t.Oqu(a[i])}}function u(e,c){if(1&e&&(t.ynx(0),t.TgZ(1,"b"),t._uU(2),t.qZA(),t.BQk()),2&e){const i=t.oxw(2).$implicit,a=t.oxw().$implicit;t.xp6(2),t.Oqu(a[i])}}function Z(e,c){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const i=t.oxw(2).$implicit,a=t.oxw().$implicit;t.xp6(1),t.hij(" ",a[i]," ")}}function l(e,c){if(1&e&&(t.YNc(0,u,3,1,"ng-container",17),t.YNc(1,Z,2,1,"ng-container",17)),2&e){const i=t.oxw().$implicit;t.Q6J("ngIf","estado"==i),t.xp6(1),t.Q6J("ngIf","estado"!==i&&"reseniasCancelacion"!==i)}}function _(e,c){if(1&e){const i=t.EpF();t.TgZ(0,"td",23),t.NdJ("click",function(){t.CHM(i);const o=t.oxw().$implicit,s=t.oxw(2);return t.KtG(s.seleccionarTurno(o))}),t.YNc(1,g,3,1,"ng-container",24),t.YNc(2,l,2,2,"ng-template",null,25,t.W1O),t.qZA()}if(2&e){const i=c.$implicit,a=t.MAs(3);t.xp6(1),t.Q6J("ngIf","rese\xf1aCancelacion"==i)("ngIfElse",a)}}function A(e,c){if(1&e&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&e){const i=c.$implicit;t.xp6(1),t.AsE(" ",i.dato," - ",i.descripcion," ")}}function T(e,c){if(1&e&&(t.TgZ(0,"ul")(1,"li"),t._uU(2),t.qZA(),t.TgZ(3,"li"),t._uU(4),t.qZA(),t.TgZ(5,"li"),t._uU(6),t.qZA(),t.TgZ(7,"li"),t._uU(8),t.qZA(),t.YNc(9,A,2,2,"li",20),t.TgZ(10,"p",28),t._uU(11,"________________________"),t.qZA()()),2&e){const i=c.$implicit;t.xp6(2),t.hij("Altura: ",i.altura,""),t.xp6(2),t.hij("Peso: ",i.peso,""),t.xp6(2),t.hij("Presi\xf3n: ",i.presion,""),t.xp6(2),t.hij("Temperatura: ",i.temperatura,""),t.xp6(1),t.Q6J("ngForOf",i.detalles)}}function y(e,c){if(1&e&&(t.ynx(0),t.TgZ(1,"div",27),t.YNc(2,T,12,5,"ul",20),t.qZA(),t.BQk()),2&e){const i=t.oxw().$implicit,a=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",a.encontrarUsuario(i.pacienteId).historiaClinica)}}function I(e,c){if(1&e&&(t.TgZ(0,"tr")(1,"th",21),t._uU(2),t.qZA(),t.YNc(3,_,4,2,"td",22),t.TgZ(4,"td"),t.YNc(5,y,3,1,"ng-container",17),t.qZA()()),2&e){const i=c.$implicit,a=c.index,o=t.oxw(2);t.xp6(2),t.Oqu(a+1),t.xp6(1),t.Q6J("ngForOf",o.turnosKeys),t.xp6(2),t.Q6J("ngIf",o.mostrarHistoriaClinica(i))}}function k(e,c){if(1&e&&(t.TgZ(0,"tbody"),t.YNc(1,I,6,3,"tr",20),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngForOf",i.tablaFiltrada)}}function S(e,c){if(1&e){const i=t.EpF();t.TgZ(0,"button",35),t.NdJ("click",function(){t.CHM(i),t.oxw();const o=t.MAs(6),s=t.oxw();return t.KtG(s.cancelarTurno(o.value))}),t._uU(1,"Cancelar"),t.qZA()}}function U(e,c){if(1&e&&(t.TgZ(0,"div",10)(1,"div",29)(2,"div",30)(3,"span",31),t._uU(4,"Rese\xf1a "),t.qZA()(),t._UZ(5,"input",32,33),t.qZA(),t.TgZ(7,"div",10),t.YNc(8,S,2,0,"button",34),t.qZA()()),2&e){const i=t.oxw();t.xp6(8),t.Q6J("ngIf","solicitado"==i.turnoSeleccionado.estado)}}function J(e,c){if(1&e){const i=t.EpF();t.TgZ(0,"div")(1,"div",29)(2,"div",30)(3,"span",31),t._uU(4,"Rese\xf1a "),t.qZA()(),t._UZ(5,"input",32,33),t.qZA(),t.TgZ(7,"p",26)(8,"b"),t._uU(9),t.qZA()(),t.TgZ(10,"div",10)(11,"button",36),t.NdJ("click",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.aceptarTurno())}),t._uU(12,"Aceptar"),t.qZA(),t.TgZ(13,"button",37),t.NdJ("click",function(){t.CHM(i);const o=t.MAs(6),s=t.oxw();return t.KtG(s.rechazarTurno(o.value))}),t._uU(14,"Rechazar"),t.qZA()()()}if(2&e){const i=t.oxw();t.xp6(9),t.Oqu(i.mensajeError)}}function N(e,c){if(1&e){const i=t.EpF();t.TgZ(0,"button",42),t.NdJ("click",function(){t.CHM(i),t.oxw();const o=t.MAs(6),s=t.MAs(12),p=t.oxw();return t.KtG(p.finalizarTurno(o.value,s.value))}),t._uU(1,"Finalizar"),t.qZA()}}function P(e,c){if(1&e){const i=t.EpF();t.TgZ(0,"button",37),t.NdJ("click",function(){t.CHM(i),t.oxw();const o=t.MAs(6),s=t.oxw();return t.KtG(s.cancelarTurno(o.value))}),t._uU(1,"Cancelar"),t.qZA()}}function E(e,c){if(1&e&&(t.TgZ(0,"div")(1,"div",29)(2,"div",30)(3,"span",31),t._uU(4,"Rese\xf1a "),t.qZA()(),t._UZ(5,"input",32,33),t.qZA(),t.TgZ(7,"div",29)(8,"div",30)(9,"span",38),t._uU(10,"Diagn\xf3stico "),t.qZA()(),t._UZ(11,"input",32,39),t.qZA(),t.TgZ(13,"p",26)(14,"b"),t._uU(15),t.qZA()(),t.TgZ(16,"div",10),t.YNc(17,N,2,0,"button",40),t.YNc(18,P,2,0,"button",41),t.qZA()()),2&e){const i=t.oxw();t.xp6(15),t.Oqu(i.mensajeError),t.xp6(2),t.Q6J("ngIf","aceptado"==i.turnoSeleccionado.estado.toLowerCase()),t.xp6(1),t.Q6J("ngIf","aceptado"==i.turnoSeleccionado.estado.toLowerCase())}}function q(e,c){if(1&e){const i=t.EpF();t.TgZ(0,"div",43)(1,"div",29)(2,"div",30)(3,"span",31),t._uU(4,"Rese\xf1a "),t.qZA()(),t._UZ(5,"input",32,33),t.qZA(),t.TgZ(7,"p")(8,"b"),t._uU(9,"Califica la atenci\xf3n del especialista:"),t.qZA()(),t.TgZ(10,"div",7)(11,"img",44),t.NdJ("click",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.seleccionarPuntuacion(1))}),t.qZA(),t.TgZ(12,"img",44),t.NdJ("click",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.seleccionarPuntuacion(2))}),t.qZA(),t.TgZ(13,"img",44),t.NdJ("click",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.seleccionarPuntuacion(3))}),t.qZA(),t.TgZ(14,"img",44),t.NdJ("click",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.seleccionarPuntuacion(4))}),t.qZA(),t.TgZ(15,"img",44),t.NdJ("click",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.seleccionarPuntuacion(5))}),t.qZA()(),t.TgZ(16,"div",10)(17,"button",45),t.NdJ("click",function(){t.CHM(i);const o=t.MAs(6),s=t.oxw();return t.KtG(s.aceptar(o.value))}),t._uU(18,"Aceptar"),t.qZA()(),t._UZ(19,"br")(20,"br"),t.qZA()}if(2&e){const i=t.oxw();t.xp6(11),t.Q6J("src",i.puntuacion>=1?"assets/img/full-star.png":"assets/img/empty-star.png",t.LSH),t.xp6(1),t.Q6J("src",i.puntuacion>=2?"assets/img/full-star.png":"assets/img/empty-star.png",t.LSH),t.xp6(1),t.Q6J("src",i.puntuacion>=3?"assets/img/full-star.png":"assets/img/empty-star.png",t.LSH),t.xp6(1),t.Q6J("src",i.puntuacion>=4?"assets/img/full-star.png":"assets/img/empty-star.png",t.LSH),t.xp6(1),t.Q6J("src",i.puntuacion>=5?"assets/img/full-star.png":"assets/img/empty-star.png",t.LSH)}}function L(e,c){1&e&&t._UZ(0,"div")}const O=[{path:"",component:(()=>{class e{constructor(i,a){this.database=i,this.afauth=a,this.turnos=[],this.usuarios=[],this.especialistas=[],this.esPaciente=!1,this.pacientes=[],this.turnosKeys=[],this.tablaFiltrada=[],this.mensajeError="",this.especialidades=[],this.resenias=[],this.mostrarDivEspecialista=!1,this.mostrarDivResenia=!1,this.tablaCompleta=[],this.mostrarDivDiagnostico=!1,this.mostrarEncuesta=!1,this.mostrarCalificacion=!1,this.puntuacion=0,this.mostrarBtnCancelar=!1,this.filtros=["especialidad","dia","horario","estado","rese\xf1aCancelacion","temperatura","presion","altura","peso","detalle"],this.especialidadSeleccionada="",this.especialistaSeleccionado="",this.estadosFiltro=["solicitado","aceptado","rechazado","cancelado","finalizado"],this.campoSeleccionado=""}ngOnInit(){this.afauth.getAuthState().subscribe(i=>{if(i){const a=i.email?.toString();console.log(a),this.database.obtenerTodos("usuarios").subscribe(o=>{this.usuarios=o.map(s=>{let p=s.payload.doc.data();return p.id=s.payload.doc.id,p}),this.especialistas=this.usuarios.filter(s=>"Especialista"==s.perfil),this.pacientes=this.usuarios.filter(s=>"Paciente"==s.perfil),this.usuarioActualBd=this.usuarios.find(s=>s.email==a),this.usuarioActualId=this.usuarioActualBd.id,console.log(this.usuarioActualId),this.esPaciente=!!this.usuarioActualBd&&"paciente"==this.usuarioActualBd.perfil.toLowerCase(),console.log("Es Paciente : "+this.esPaciente),console.log(this.usuarios),console.log(this.pacientes)})}this.database.obtenerTodos("especialidades").subscribe(a=>{this.especialidades=a.map(o=>{let s=o.payload.doc.data();return s.id=o.payload.doc.id,s}),console.log(this.especialidades)}),this.turnos=[],this.database.obtenerTodos("turnos").subscribe(a=>{this.turnos=a.map(o=>{let s=o.payload.doc.data();return s.id=o.payload.doc.id,s}),this.resenias=[],this.turnos.forEach(o=>{(this.esPaciente&&o.pacienteId==this.usuarioActualId&&o.hasOwnProperty("rese\xf1aCancelacion")||!this.esPaciente&&o.especialistaId==this.usuarioActualId&&o.hasOwnProperty("rese\xf1aCancelacion"))&&this.resenias.push({id:o.id,resenia:o.rese\u00f1aCancelacion,dia:o.dia,horario:o.horario,especialidad:o.especialidad})}),0==this.turnosKeys.length&&this.turnosKeys.push("especialidad","dia","horario","estado","rese\xf1aCancelacion"),console.log(this.turnosKeys),this.filtrarTurnos(),console.log(this.resenias)})})}seleccionarPuntuacion(i){this.puntuacion=i,console.log("Puntuaci\xf3n seleccionada:",this.puntuacion)}filtrarTurnos(){this.esPaciente?(console.log(this.usuarioActualId),this.tablaFiltrada=this.turnos.filter(i=>i.pacienteId==this.usuarioActualId),this.tablaCompleta=this.tablaFiltrada):(this.tablaFiltrada=this.turnos.filter(i=>i.especialistaId==this.usuarioActualId),this.tablaCompleta=this.tablaFiltrada)}encontrarUsuario(i){return this.usuarios.find(a=>a.id===i)||{}}mostrarHistoriaClinica(i){return i.pacienteId&&this.usuarios&&this.usuarios.length>0&&this.encontrarUsuario(i.pacienteId).historiaClinica&&this.encontrarUsuario(i.pacienteId).historiaClinica.length>0}seleccionarTurno(i){this.turnoSeleccionado=i,console.log(i.estado),!this.esPaciente&&"aceptado"==this.turnoSeleccionado.estado.toLowerCase()||!this.esPaciente&&"solicitado"==this.turnoSeleccionado.estado.toLowerCase()?this.mostrarDivEspecialista=!0:!this.esPaciente&&"aceptado"!=this.turnoSeleccionado.estado.toLowerCase()&&!this.esPaciente&&"solicitado"!=this.turnoSeleccionado.estado.toLowerCase()||"cancelado"==this.turnoSeleccionado.estado.toLowerCase()?(this.mostrarDivEspecialista=!1,this.mostrarCalificacion=!1):this.esPaciente&&"finalizado"==i.estado.toLowerCase()||this.esPaciente&&"finalizado"==i.estado.toLowerCase()&&i.hasOwnProperty("rese\xf1aFinalizacion")?this.mostrarCalificacion=!0:this.esPaciente&&"finalizado"!=i.estado.toLowerCase()&&(this.mostrarCalificacion=!1)}aceptar(i){if(""!==i.trim()&&"finalizado"==this.turnoSeleccionado.estado.toLowerCase()){console.log("aqui");let o=new m(this.turnoSeleccionado.especialistaId,this.usuarioActualId,this.puntuacion.toString(),i,this.turnoSeleccionado.id).toJSON();console.log(o),this.database.crear("calificaciones",o),this.mostrarCalificacion=!1}else this.mensajeError="El campo de rese\xf1a y diagnostico no puede estar vac\xedo"}cancelarTurno(i){""!==i.trim()&&"solicitado"==this.turnoSeleccionado.estado.toLowerCase()?(this.turnoSeleccionado.estado="cancelado",this.turnoSeleccionado.rese\u00f1aCancelacion=i,this.database.actualizar("turnos",this.turnoSeleccionado,this.turnoSeleccionado.id)):this.mensajeError="El campo de rese\xf1a por cancelaci\xf3n no puede estar vac\xedo"}aceptarTurno(){"solicitado"==this.turnoSeleccionado.estado.toLowerCase()&&(this.turnoSeleccionado.estado="aceptado",this.database.actualizar("turnos",this.turnoSeleccionado,this.turnoSeleccionado.id))}rechazarTurno(i){""!==i.trim()?(this.turnoSeleccionado.estado="rechazado",this.turnoSeleccionado.rese\u00f1aCancelacion=i,this.database.actualizar("turnos",this.turnoSeleccionado,this.turnoSeleccionado.id)):this.mensajeError="El campo de rese\xf1a por cancelaci\xf3n no puede estar vac\xedo"}finalizarTurno(i,a){this.mostrarDivDiagnostico=!0,""!==i.trim()&&""!==a.trim()&&"aceptado"==this.turnoSeleccionado.estado.toLowerCase()?(this.turnoSeleccionado.estado="finalizado",this.turnoSeleccionado.rese\u00f1aFinalizacion=i,this.turnoSeleccionado.diagnostico=a,this.database.actualizar("turnos",this.turnoSeleccionado,this.turnoSeleccionado.id)):this.mensajeError="El campo de rese\xf1a y diagnostico no puede estar vac\xedo"}onTextoChange(){console.log("Cambio en el campo de texto")}filtrarTabla(){this.tablaFiltrada=this.tablaCompleta,""!==this.detalleFiltro.trim()&&(this.tablaFiltrada=this.tablaFiltrada.filter(i=>{const o=["especialidad","dia","horario","estado","resenaCancelacion"].some(p=>i[p]?.toString().toLowerCase().includes(this.detalleFiltro.toLowerCase())),s=i.pacienteId&&this.usuarios&&this.usuarios.length>0&&this.encontrarUsuario(i.pacienteId).historiaClinica&&this.encontrarUsuario(i.pacienteId).historiaClinica.some(p=>{const Y=["altura","peso","presion","temperatura"].some(M=>p[M]?.toString().toLowerCase().includes(this.detalleFiltro.toLowerCase())),H=p.detalles&&p.detalles.length>0&&p.detalles.some(M=>M.dato?.toString().toLowerCase().includes(this.detalleFiltro.toLowerCase())||M.descripcion?.toString().toLowerCase().includes(this.detalleFiltro.toLowerCase()));return Y||H});return o||s}))}eliminarFiltro(){this.tablaFiltrada=this.tablaCompleta}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(C.T),t.Y36(x.e))};static#i=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-mis-turnos"]],decls:39,vars:7,consts:[[1,"container"],[1,"text-center","text-dark"],[1,"row","mb-4"],[1,"col-3"],[1,"col-6"],[1,"row"],[1,"card"],[1,"card-body"],[1,"card-title"],["name","detalleFiltro","type","text",1,"form-control","mt-2",3,"ngModel","ngModelChange","keyup.enter"],[2,"text-align","center"],[1,"btn","btn-sm","btn-danger","mt-3","mb-2",3,"click"],[2,"max-height","500px","overflow-y","auto"],[1,"table","table-bordered","table-light","table-striped","table-responsive"],["scope","col",2,"background-color","#49708a"],["class","text-center","style","background-color: #49708a;","scope","col",4,"ngFor","ngForOf"],["scope","col",1,"text-center",2,"background-color","#49708a"],[4,"ngIf"],["style","text-align: center;",4,"ngIf"],["class","card","style","text-align: center; background-color: #88abc2;",4,"ngIf"],[4,"ngFor","ngForOf"],["scope","row"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[4,"ngIf","ngIfElse"],["otherContent",""],[1,"text-danger"],[1,"historia-clinica-container"],[1,"text-center","text-muted"],[1,"input-group","input-group-sm","mb-3"],[1,"input-group-prepend"],["id","rese\xf1a",1,"input-group-text",2,"background-color","#ddd"],["type","text","aria-label","Small","aria-describedby","inputGroup-sizing-sm",1,"form-control"],["reseniaInput",""],["class","btn btn-danger mx-2 btn-lg",3,"click",4,"ngIf"],[1,"btn","btn-danger","mx-2","btn-lg",3,"click"],[1,"btn","mx-2","btn-success","btn-lg",3,"click"],[1,"btn","mx-2","btn-danger","btn-lg",3,"click"],["id","diagnostico",1,"input-group-text",2,"background-color","#ddd"],["diagnosticoInput",""],["class","btn mx-2 btn-primary btn-lg",3,"click",4,"ngIf"],["class","btn mx-2 btn-danger  btn-lg",3,"click",4,"ngIf"],[1,"btn","mx-2","btn-primary","btn-lg",3,"click"],[1,"card",2,"text-align","center","background-color","#88abc2"],["alt","","width","50",3,"src","click"],[1,"btn","mx-2","btn-success",2,"width","100px",3,"click"]],template:function(a,o){1&a&&(t.TgZ(0,"body")(1,"div",0),t._UZ(2,"app-navbar")(3,"br")(4,"br"),t.TgZ(5,"h3",1),t._uU(6,"Tus Turnos"),t.qZA(),t._UZ(7,"br"),t.TgZ(8,"div",2),t._UZ(9,"div",3),t.TgZ(10,"div",4)(11,"div",5)(12,"div",6)(13,"div",7)(14,"h5",8),t._uU(15,"Filtrar tabla"),t.qZA(),t.TgZ(16,"input",9),t.NdJ("ngModelChange",function(p){return o.detalleFiltro=p})("keyup.enter",function(){return o.filtrarTabla()}),t.qZA()()()(),t.TgZ(17,"div",10)(18,"button",11),t.NdJ("click",function(){return o.eliminarFiltro()}),t._uU(19,"Eliminar Filtros"),t.qZA()()(),t._UZ(20,"div",3),t.qZA(),t.TgZ(21,"div",12)(22,"table",13)(23,"thead")(24,"tr")(25,"th",14),t._uU(26,"#"),t.qZA(),t.YNc(27,v,2,1,"th",15),t.TgZ(28,"th",16),t._uU(29,"Historia Cl\xednica"),t.qZA()()(),t.YNc(30,k,2,1,"tbody",17),t.qZA()(),t._UZ(31,"br")(32,"br"),t.YNc(33,U,9,1,"div",18),t.YNc(34,J,15,1,"div",17),t.YNc(35,E,19,3,"div",17),t.YNc(36,q,21,5,"div",19),t.YNc(37,L,1,0,"div",17),t._UZ(38,"br"),t.qZA()()),2&a&&(t.xp6(16),t.Q6J("ngModel",o.detalleFiltro),t.xp6(11),t.Q6J("ngForOf",o.turnosKeys),t.xp6(3),t.Q6J("ngIf",null!=o.tablaFiltrada&&o.tablaFiltrada.length>0),t.xp6(3),t.Q6J("ngIf",o.esPaciente&&!o.mostrarCalificacion&&"solicitado"==(null==o.turnoSeleccionado?null:o.turnoSeleccionado.estado)),t.xp6(1),t.Q6J("ngIf",null!=o.turnoSeleccionado&&!o.esPaciente&&"solicitado"==o.turnoSeleccionado.estado.toLowerCase()),t.xp6(1),t.Q6J("ngIf",null!=o.turnoSeleccionado&&!o.esPaciente&&"aceptado"==o.turnoSeleccionado.estado.toLowerCase()),t.xp6(1),t.Q6J("ngIf",o.mostrarCalificacion&&o.esPaciente))},dependencies:[n.sg,n.O5,d.S,b.Fj,b.JJ,b.On],styles:['@charset "UTF-8";body[_ngcontent-%COMP%]{height:100%;min-height:100vh;width:100vw;background-color:#d0e0eb}.radio-buttons-container[_ngcontent-%COMP%]{display:flex}.radio-buttons-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-right:10px}.historia-clinica-container[_ngcontent-%COMP%]{max-height:150px;overflow-y:auto}']})}return e})()}];let Q=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#i=this.\u0275mod=t.oAB({type:e});static#o=this.\u0275inj=t.cJS({imports:[h.Bz.forChild(O),h.Bz]})}return e})();var F=r(5383);let z=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#i=this.\u0275mod=t.oAB({type:e});static#o=this.\u0275inj=t.cJS({imports:[n.ez,Q,F.W,b.u5,F.W]})}return e})()},5383:(w,f,r)=>{r.d(f,{W:()=>x});var n=r(6814),h=r(1826),m=r(5879);const t=[];let C=(()=>{class d{static#t=this.\u0275fac=function(g){return new(g||d)};static#i=this.\u0275mod=m.oAB({type:d});static#o=this.\u0275inj=m.cJS({imports:[h.Bz.forChild(t),h.Bz]})}return d})(),x=(()=>{class d{static#t=this.\u0275fac=function(g){return new(g||d)};static#i=this.\u0275mod=m.oAB({type:d});static#o=this.\u0275inj=m.cJS({imports:[n.ez,C]})}return d})()},7045:(w,f,r)=>{r.d(f,{S:()=>g});var n=r(5879),h=r(4108),m=r(6751),t=r(6814),C=r(1826);function x(u,Z){1&u&&n._UZ(0,"img",13)}function d(u,Z){1&u&&n._UZ(0,"img",14)}function b(u,Z){1&u&&n._UZ(0,"img",15)}function v(u,Z){if(1&u&&(n.TgZ(0,"a",9),n._uU(1,"\xa0\xa0\xa0\xa0\xa0 "),n.YNc(2,x,1,0,"img",10),n.YNc(3,d,1,0,"img",11),n.YNc(4,b,1,0,"img",12),n._uU(5),n.qZA()),2&u){const l=n.oxw();n.xp6(2),n.Q6J("ngIf",null!=l.perfilActual&&"paciente"==l.perfilActual.toLowerCase()),n.xp6(1),n.Q6J("ngIf",null!=l.perfilActual&&"especialista"==l.perfilActual.toLowerCase()),n.xp6(1),n.Q6J("ngIf",null!=l.perfilActual&&"administrador"==l.perfilActual.toLowerCase()),n.xp6(1),n.AsE(" Bienvenido/a, ",l.usuarioActual.nombre," - ",l.perfilActual," ")}}let g=(()=>{class u{constructor(l,_){this.afauth=l,this.database=_,this.usuarios=[]}ngOnInit(){this.afauth.getAuthState().subscribe(l=>{if(l){const _=l.email?.toString();console.log(_),this.database.obtenerTodos("usuarios").subscribe(A=>{this.usuarios=A.map(T=>{let y=T.payload.doc.data();return y.id=T.payload.doc.id,y}),this.usuarioActual=this.usuarios.find(T=>T.email==_),console.log(this.usuarioActual.id),this.perfilActual=this.usuarioActual?this.usuarioActual.perfil.toLowerCase():null,console.log("Perfil actual"+this.perfilActual)})}})}static#t=this.\u0275fac=function(_){return new(_||u)(n.Y36(h.e),n.Y36(m.T))};static#i=this.\u0275cmp=n.Xpm({type:u,selectors:[["app-navbar"]],decls:14,vars:1,consts:[[1,"container"],[1,"navbar","navbar-light",2,"background-color","#397c9e"],["class","navbar-brand text-light","href","#",4,"ngIf"],[1,"ml-auto"],["type","button","routerLink","/home",1,"btn","mx-4","my-2",2,"background-color","#eee"],["type","button","routerLink","/login",1,"btn","mx-4","my-2",2,"background-color","#eee"],["type","button","routerLink","/solicitar-turno",1,"btn","mx-4","my-2",2,"background-color","#eee"],["type","button","routerLink","/mis-turnos",1,"btn","mx-4","my-2",2,"background-color","#eee"],["type","button","routerLink","/mi-perfil",1,"btn","mx-4","my-2",2,"background-color","#eee"],["href","#",1,"navbar-brand","text-light"],["src","../../../assets/img/paciente.png","width","30","height","30","class","d-inline-block align-top","alt","",4,"ngIf"],["src","../../../assets/img/doctor.png","width","30","height","30","class","d-inline-block align-top","alt","",4,"ngIf"],["src","../../../assets/img/admin.png","width","30","height","30","class","d-inline-block align-top","alt","",4,"ngIf"],["src","../../../assets/img/paciente.png","width","30","height","30","alt","",1,"d-inline-block","align-top"],["src","../../../assets/img/doctor.png","width","30","height","30","alt","",1,"d-inline-block","align-top"],["src","../../../assets/img/admin.png","width","30","height","30","alt","",1,"d-inline-block","align-top"]],template:function(_,A){1&_&&(n.TgZ(0,"div",0)(1,"nav",1),n.YNc(2,v,6,5,"a",2),n.TgZ(3,"div",3)(4,"button",4),n._uU(5,"Home"),n.qZA(),n.TgZ(6,"button",5),n._uU(7,"Login"),n.qZA(),n.TgZ(8,"button",6),n._uU(9,"Solicitar Turno"),n.qZA(),n.TgZ(10,"button",7),n._uU(11,"Mis Turnos"),n.qZA(),n.TgZ(12,"button",8),n._uU(13,"Mi Perfil"),n.qZA()()()()),2&_&&(n.xp6(2),n.Q6J("ngIf",null!=A.usuarioActual))},dependencies:[t.O5,C.rH]})}return u})()}}]);