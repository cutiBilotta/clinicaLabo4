"use strict";(self.webpackChunkclinica=self.webpackChunkclinica||[]).push([[176],{7176:(ct,f,l)=>{l.r(f),l.d(f,{SeccionUsuariosModule:()=>rt});var u=l(6814),_=l(1826),t=l(5879),h=l(4277),Z=l(8388),p=l(6751);function b(i,a){if(1&i&&(t.TgZ(0,"th",12),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e)}}function T(i,a){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&i){const e=a.$implicit,o=t.oxw().$implicit;t.xp6(1),t.Oqu(o[e])}}function v(i,a){if(1&i&&(t.TgZ(0,"tr")(1,"th",13),t._uU(2),t.qZA(),t.YNc(3,T,2,1,"td",8),t.qZA()),2&i){const e=a.index,o=t.oxw();t.xp6(2),t.Oqu(e+1),t.xp6(1),t.Q6J("ngForOf",o.keysPacientes)}}function x(i,a){if(1&i&&(t.TgZ(0,"th",12),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e)}}function U(i,a){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&i){const e=a.$implicit,o=t.oxw().$implicit;t.xp6(1),t.Oqu("disponibilidad"===e?o[e].dia:o[e])}}function A(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"tr",14),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.seleccionarEspecialista(r))}),t.TgZ(1,"th",13),t._uU(2),t.qZA(),t.YNc(3,U,2,1,"td",8),t.qZA()}if(2&i){const e=a.index,o=t.oxw();t.xp6(2),t.Oqu(e+1),t.xp6(1),t.Q6J("ngForOf",o.keysEspecialistas)}}function C(i,a){if(1&i&&(t.TgZ(0,"th",12),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e)}}function q(i,a){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&i){const e=a.$implicit,o=t.oxw().$implicit;t.xp6(1),t.Oqu(o[e])}}function y(i,a){if(1&i&&(t.TgZ(0,"tr")(1,"th",13),t._uU(2),t.qZA(),t.YNc(3,q,2,1,"td",8),t.qZA()),2&i){const e=a.index,o=t.oxw();t.xp6(2),t.Oqu(e+1),t.xp6(1),t.Q6J("ngForOf",o.keysAdministradores)}}function I(i,a){if(1&i&&(t.TgZ(0,"h4",15),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.HOy("Ustedes seleccion\xf3: ",e.especialistaSeleccionado.nombre," ",e.especialistaSeleccionado.apellido," - ",e.especialistaSeleccionado.especialidad," - ",e.especialistaSeleccionado.dni," ")}}function k(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"button",16),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.habilitar())}),t._uU(2,"Habilitar"),t.qZA()()}}function E(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"button",17),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.deshabilitar())}),t._uU(2,"Deshabilitar"),t.qZA()()}}let N=(()=>{class i{constructor(e){this.database=e,this.usuarios=[],this.mensajeError="",this.pacientes=[],this.especialistas=[],this.administradores=[],this.especialistaSeleccionado=null,this.keysAdministradores=[],this.keysPacientes=[],this.keysEspecialistas=[]}ngOnInit(){this.database.obtenerTodos("usuarios").subscribe(e=>{this.usuarios=e.map(o=>{let s=o.payload.doc.data();return s.id=o.payload.doc.id,s}),this.obtenerKeys(),this.cargarTablas(),console.log(this.usuarios)})}obtenerKeys(){this.usuarios.forEach(e=>{const o=e.perfil.toLowerCase();0==this.keysPacientes.length&&"paciente"==o?this.keysPacientes=Object.keys(e):0==this.keysEspecialistas.length&&"especialista"==o?this.keysEspecialistas=Object.keys(e):0==this.keysAdministradores.length&&"administrador"==o&&(this.keysAdministradores=Object.keys(e))})}cargarTablas(){this.pacientes=[],this.especialistas=[],this.administradores=[],this.usuarios.forEach(e=>{const o=e.perfil.toLowerCase();"paciente"==o?this.pacientes.push(e):"especialista"==o?this.especialistas.push(e):"administrador"==o&&this.administradores.push(e)}),console.log(this.pacientes),console.log(this.especialistas)}seleccionarEspecialista(e){this.especialistaSeleccionado=e}habilitar(){this.especialistaSeleccionado.habilitacion=!0,this.database.actualizar("usuarios",this.especialistaSeleccionado,this.especialistaSeleccionado.id),console.log("Especialista Habilitado")}deshabilitar(){this.especialistaSeleccionado.habilitacion=!1,this.database.actualizar("usuarios",this.especialistaSeleccionado,this.especialistaSeleccionado.id);const e=this.especialistas.findIndex(o=>o.id===this.especialistaSeleccionado.id);-1!==e&&this.especialistas.splice(e,1),console.log("Especialista Inhabilitado")}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(p.T))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-informacion-usuarios"]],decls:53,vars:9,consts:[[1,"container"],[1,"text-center"],[1,"my-4"],[1,"text-center","text-light"],[1,"table-responsive"],[1,"table","table-bordered","table-light"],["scope","col",2,"background-color","#49708a"],["style","background-color: #caff42;","scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[3,"click",4,"ngFor","ngForOf"],["class"," text-start","style","color: #49708a;",4,"ngIf"],[4,"ngIf"],["scope","col",2,"background-color","#caff42"],["scope","row"],[3,"click"],[1,"text-start",2,"color","#49708a"],[1,"btn","btn-success","mt-2",3,"click"],[1,"btn","btn-danger","mt-2",3,"click"]],template:function(o,s){1&o&&(t.TgZ(0,"body")(1,"div",0),t._UZ(2,"br")(3,"br"),t.TgZ(4,"h3",1),t._uU(5,"Informaci\xf3n de los Usuarios"),t.qZA(),t._UZ(6,"br")(7,"hr",2),t.TgZ(8,"h3",3),t._uU(9,"Pacientes"),t.qZA(),t._UZ(10,"br"),t.TgZ(11,"div",4)(12,"table",5)(13,"thead")(14,"tr")(15,"th",6),t._uU(16,"#"),t.qZA(),t.YNc(17,b,2,1,"th",7),t.qZA()(),t.TgZ(18,"tbody"),t.YNc(19,v,4,2,"tr",8),t.qZA()()(),t._UZ(20,"hr",2),t.TgZ(21,"h3",3),t._uU(22,"Especialista"),t.qZA(),t._UZ(23,"br"),t.TgZ(24,"div",4)(25,"table",5)(26,"thead")(27,"tr")(28,"th",6),t._uU(29,"#"),t.qZA(),t.YNc(30,x,2,1,"th",7),t.qZA()(),t.TgZ(31,"tbody"),t.YNc(32,A,4,2,"tr",9),t.qZA()()(),t._UZ(33,"hr",2),t.TgZ(34,"h3",3),t._uU(35,"Administradores"),t.qZA(),t._UZ(36,"br"),t.TgZ(37,"div",4)(38,"table",5)(39,"thead")(40,"tr")(41,"th",6),t._uU(42,"#"),t.qZA(),t.YNc(43,C,2,1,"th",7),t.qZA()(),t.TgZ(44,"tbody"),t.YNc(45,y,4,2,"tr",8),t.qZA()()(),t._UZ(46,"hr",2)(47,"br"),t.YNc(48,I,2,4,"h4",10),t.YNc(49,k,3,0,"div",11),t.YNc(50,E,3,0,"div",11),t._UZ(51,"br")(52,"br"),t.qZA()()),2&o&&(t.xp6(17),t.Q6J("ngForOf",s.keysPacientes),t.xp6(2),t.Q6J("ngForOf",s.pacientes),t.xp6(11),t.Q6J("ngForOf",s.keysEspecialistas),t.xp6(2),t.Q6J("ngForOf",s.especialistas),t.xp6(11),t.Q6J("ngForOf",s.keysAdministradores),t.xp6(2),t.Q6J("ngForOf",s.administradores),t.xp6(3),t.Q6J("ngIf",null!=s.especialistaSeleccionado),t.xp6(1),t.Q6J("ngIf",null!=s.especialistaSeleccionado&&!s.especialistaSeleccionado.habilitacion),t.xp6(1),t.Q6J("ngIf",null!=s.especialistaSeleccionado&&s.especialistaSeleccionado.habilitacion))},dependencies:[u.sg,u.O5],styles:["body[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#88abc2,transparent)}"]})}return i})();var n=l(95);class F{constructor(a,e,o,s,r,c){this.perfil="Administrador",this.imgPerfil="",this.email=r,this.contrase\u00f1a=c,this.edad=o,this.nombre=a,this.apellido=e,this.dni=s}toJSON(){return{nombre:this.nombre,apellido:this.apellido,edad:this.edad,email:this.email,dni:this.dni,password:this.contrase\u00f1a,perfil:this.perfil,imgPerfil:this.imgPerfil}}}var w=l(4108),J=l(6700);function S(i,a){if(1&i&&(t.TgZ(0,"p",23),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij("Campos inv\xe1lidos: ",e.mensajeError.join(", "),"")}}function O(i,a){if(1&i&&(t.TgZ(0,"p",24),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu(e.mensajeExito)}}function Y(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",25),t._UZ(1,"hr"),t.TgZ(2,"h4",3),t._uU(3,"Im\xe1gen de Perfil"),t.qZA(),t.TgZ(4,"input",26),t.NdJ("change",function(s){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onFileChange(s))}),t.qZA()()}}function Q(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",27)(1,"button",28),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.aceptar())}),t._uU(2,"Enviar Datos"),t.qZA()()}}function j(i,a){if(1&i&&(t.TgZ(0,"form",2),t._UZ(1,"br"),t.TgZ(2,"h4",3),t._uU(3,"Registro Administrador"),t.qZA(),t._UZ(4,"br"),t.TgZ(5,"div",4)(6,"div",5)(7,"label",6),t._uU(8,"Nombre"),t.qZA(),t._UZ(9,"input",7),t.qZA(),t._UZ(10,"br"),t.TgZ(11,"div",5)(12,"label",8),t._uU(13,"Apellido"),t.qZA(),t._UZ(14,"input",9),t.qZA(),t._UZ(15,"br"),t.qZA(),t.TgZ(16,"div",10)(17,"div",5)(18,"label",11),t._uU(19,"Email"),t.qZA(),t._UZ(20,"input",12),t.qZA(),t._UZ(21,"br"),t.TgZ(22,"div",5)(23,"label",13),t._uU(24,"Password"),t.qZA(),t._UZ(25,"input",14),t.qZA()(),t.TgZ(26,"div",10)(27,"div",5)(28,"label",15),t._uU(29,"Edad"),t.qZA(),t._UZ(30,"input",16),t.qZA(),t.TgZ(31,"div",5)(32,"label",17),t._uU(33,"DNI"),t.qZA(),t._UZ(34,"input",18),t.qZA()(),t._UZ(35,"br"),t.YNc(36,S,2,1,"p",19),t.YNc(37,O,2,1,"p",20),t.YNc(38,Y,5,0,"div",21),t.YNc(39,Q,3,0,"div",22),t._UZ(40,"br")(41,"br"),t.qZA()),2&i){const e=t.oxw();let o;t.Q6J("formGroup",e.form),t.xp6(36),t.Q6J("ngIf",e.mensajeError.length>0),t.xp6(1),t.Q6J("ngIf",""!=e.mensajeExito),t.xp6(1),t.Q6J("ngIf",""!==(null==(o=e.form.get("edad"))?null:o.value)&&""!==(null==(o=e.form.get("dni"))?null:o.value)&&""!==(null==(o=e.form.get("nombre"))?null:o.value)&&""!==(null==(o=e.form.get("apellido"))?null:o.value)&&""!==(null==(o=e.form.get("mail"))?null:o.value)),t.xp6(1),t.Q6J("ngIf",e.imagenIngresada)}}let P=(()=>{class i{constructor(e,o,s,r){this.authService=e,this.database=o,this.formBuilder=s,this.storageService=r,this.mensajeError=[],this.mensajeExito="",this.usuarios=[],this.imagenes=[],this.mostrarCargaImg=!1,this.mensajeErrorImg="",this.imagenIngresada=!1,this.verificacionEmail=new t.vpe}ngOnInit(){this.form=this.formBuilder.group({nombre:new n.NI("",[n.kI.required,n.kI.pattern("[a-zA-Z ]*")]),apellido:new n.NI("",[n.kI.required,n.kI.pattern("[a-zA-Z ]*")]),edad:new n.NI("",[n.kI.required,n.kI.min(1),n.kI.max(100)]),dni:new n.NI("",[n.kI.required,n.kI.minLength(6),n.kI.maxLength(8)]),email:new n.NI("",[n.kI.email,n.kI.required]),password:new n.NI("",[n.kI.required])}),this.database.obtenerTodos("prestadores").subscribe(e=>{this.listadoObrasSociales=e.map(o=>{const s=o.payload.doc.data();return{id:o.payload.doc.id,prestadores:s.prestadores||[]}})}),this.database.obtenerTodos("usuarios").subscribe(e=>{this.usuarios=e.map(o=>{let s=o.payload.doc.data();return s.id=o.payload.doc.id,s})})}aceptar(){const o=document.getElementById("inputFile").files;if(this.mensajeError=[],console.log("Nombre"+this.form?.get("nombre")?.value),this.form?.invalid){for(const s in this.form?.controls)this.form?.controls[s]?.invalid&&this.mensajeError.push(`${s}`);console.log(this.mensajeError)}else if(this.form.valid){const s=this.form.get("nombre")?.value,r=this.form.get("apellido")?.value,c=this.form.get("edad")?.value,d=this.form.get("email")?.value,g=this.form.get("dni")?.value,m=this.form.get("password")?.value;this.nuevoAdmin=new F(s,r,c,g,d,m),null==this.registrarse()?this.mostrarCargaImg=!1:o&&this.cargarImagen(o)}else console.log("Formulario Inv\xe1lido")}registrarse(){let e=this.form.get("email")?.value,o=this.form.get("password")?.value;return[...this.usuarios].find(c=>c.email==e)?(this.mensajeError.push("El administrador ya se encuentra registrado"),null):(this.authService.register(e,o).then(c=>{if(null!=c){console.log("Se registr\xf3 en Firebase Authentication: ",c);const d=this.nuevoAdmin.toJSON();return console.log(d),this.database.crear("usuarios",d),!0}return console.log("Error. Ingrese datos v\xe1lidos"),null}).catch(c=>(console.log(c),null)),!0)}redirigirVerificacionEmail(){this.verificacionEmail.emit()}cargarImagen(e){let o;console.log(e),e.length>1?this.mensajeErrorImg="Se ha excedido el l\xedmite de im\xe1genes":setTimeout(()=>{if(o=this.buscarUsuarioPorDNI(),console.log(o),o){const s=[];for(let r=0;r<e.length;r++){const c=new FileReader,d=this.form.get("nombre")?.value+this.form.get("apellido")?.value+"_"+Date.now()+"_"+r;c.readAsDataURL(e[r]),c.onloadend=()=>{this.imagenes.push(c.result),this.storageService.subirImagen(d,c.result).then(g=>{if(s.push(d),console.log(d),s.length===e.length){this.nuevoAdmin.imgPerfil=s;const m=this.nuevoAdmin.toJSON();this.database.actualizar("usuarios",m,o),console.log("se actualizo el database"),this.form.reset(),this.redirigirVerificacionEmail()}})}}}},5e3)}buscarUsuarioPorDNI(){const e=this.nuevoAdmin.dni,o=this.usuarios.find(s=>s.dni===e);return o?o.id:null}onFileChange(e){this.imagenIngresada=e.target.files&&e.target.files.length>0}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(w.e),t.Y36(p.T),t.Y36(n.qu),t.Y36(J.V))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-registro-admin"]],outputs:{verificacionEmail:"verificacionEmail"},decls:3,vars:1,consts:[[1,"container"],["class","needs-validation",3,"formGroup",4,"ngIf"],[1,"needs-validation",3,"formGroup"],[1,"text-dark","text-center"],[1,"row","mx-3"],[1,"form-group","col-md-6"],["for","nombre"],["type","text","id","nombre","autocomplete","off","formControlName","nombre",1,"form-control"],["for","apellido"],["type","text","id","apellido","autocomplete","off","formControlName","apellido",1,"form-control"],[1,"row","mt-4","mx-3"],["for","inputEmail4"],["type","email","id","email","placeholder","ejemplo@email.com","autocomplete","off","formControlName","email",1,"form-control"],["for","inputPassword4"],["type","password","id","password","placeholder","1-8 caracteres","autocomplete","off","formControlName","password",1,"form-control"],["for","Edad"],["type","number","id","edad","placeholder","1-100","autocomplete","off","formControlName","edad",1,"form-control"],["for","dni"],["type","text","id","dni","autocomplete","off","formControlName","dni",1,"form-control"],["class","text-danger text-center",4,"ngIf"],["class","text-success",4,"ngIf"],["class","col-md-6 offset-md-3 text-center",4,"ngIf"],["style","text-align: center;",4,"ngIf"],[1,"text-danger","text-center"],[1,"text-success"],[1,"col-md-6","offset-md-3","text-center"],["type","file","accept",".png, .jpg,.jpeg","id","inputFile",1,"form-control",3,"change"],[2,"text-align","center"],[1,"btn","mt-5",2,"background-color","#caff42",3,"click"]],template:function(o,s){1&o&&(t.TgZ(0,"body")(1,"div",0),t.YNc(2,j,42,5,"form",1),t.qZA()()),2&o&&(t.xp6(2),t.Q6J("ngIf",s.form))},dependencies:[u.O5,n._Y,n.Fj,n.wV,n.JJ,n.JL,n.sg,n.u],styles:["body[_ngcontent-%COMP%]{background-color:#d0e0eb;height:100%}"]})}return i})();function M(i,a){if(1&i&&(t.TgZ(0,"th",9),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Oqu(e)}}function K(i,a){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&i){const e=a.$implicit,o=t.oxw().$implicit;t.xp6(1),t.Oqu(o[e])}}function $(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"tr",10),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.seleccionarTurno(r))}),t.TgZ(1,"th",11),t._uU(2),t.qZA(),t.YNc(3,K,2,1,"td",12),t.qZA()}if(2&i){const e=a.index,o=t.oxw();t.xp6(2),t.Oqu(e+1),t.xp6(1),t.Q6J("ngForOf",o.turnosKeys)}}function G(i,a){if(1&i&&(t.TgZ(0,"p",20)(1,"b"),t._uU(2),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(2),t.Oqu(e.mensajeError)}}function R(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",13)(2,"div",14)(3,"span",15),t._uU(4,"Rese\xf1a por Cancelaci\xf3n "),t.qZA()(),t._UZ(5,"input",16,17),t.qZA(),t.YNc(7,G,3,1,"p",18),t.TgZ(8,"button",19),t.NdJ("click",function(){t.CHM(e);const s=t.MAs(6),r=t.oxw();return t.KtG(r.cancelarTurno(s.value))}),t._uU(9,"Cancelar turno"),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(7),t.Q6J("ngIf",""!=e.mensajeError)}}function H(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"input",24),t.NdJ("change",function(){const r=t.CHM(e).$implicit,c=t.oxw(3);return t.KtG(c.filtrarTabla(r))}),t.qZA(),t._uU(2),t._UZ(3,"br"),t.BQk()}if(2&i){const e=a.$implicit;t.xp6(1),t.Q6J("value",e),t.xp6(1),t.hij(" ",e,"")}}function B(i,a){if(1&i&&(t.ynx(0),t.YNc(1,H,4,2,"ng-container",12),t.BQk()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngForOf",e.especialidades)}}function z(i,a){if(1&i&&(t.TgZ(0,"div",21)(1,"h5",22),t._uU(2,"Especialidad"),t.qZA(),t.TgZ(3,"div",23),t.YNc(4,B,2,1,"ng-container",12),t.qZA()()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.especialidades)}}function D(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"input",27),t.NdJ("change",function(){const r=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.filtrarTablaEspecialista(r.id))}),t.qZA(),t._uU(2),t._UZ(3,"br"),t.BQk()}if(2&i){const e=a.$implicit;t.xp6(1),t.Q6J("value",e),t.xp6(1),t.lnq("",e.nombre," ",e.apellido," - ",e.id,"")}}function L(i,a){if(1&i&&(t.TgZ(0,"div",21)(1,"h5",25),t._uU(2,"Especialista"),t.qZA(),t.TgZ(3,"div",26),t.YNc(4,D,4,4,"ng-container",12),t.qZA()()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.especialistas)}}let V=(()=>{class i{constructor(e){this.database=e,this.turnos=[],this.turnosKeys=[],this.especialidades=[],this.especialistas=[],this.mensajeError="",this.mostrarBoton=!1,this.tablaFiltrada=[]}ngOnInit(){this.database.obtenerTodos("turnos").subscribe(e=>{this.turnos=[],e.forEach(o=>{const s=o.payload.doc.data();if("object"==typeof s){const c={id:o.payload.doc.id,...s};this.turnos.push(c)}else console.log("turnoData no es un objeto v\xe1lido:",s)}),this.turnos.forEach(o=>{this.turnosKeys=Object.keys(o)}),this.database.obtenerTodos("especialidades").subscribe(o=>{this.especialidades=[],o.forEach(s=>{const r=s.payload.doc.data();this.especialidades.push(r)})}),this.tablaFiltrada=this.turnos}),this.database.obtenerTodos("usuarios").subscribe(e=>{this.especialistas=e.map(o=>o.payload.doc.data()).filter(o=>{const s=o.perfil;return s&&"especialista"==s.toLowerCase()})})}seleccionarTurno(e){this.mostrarBoton=!1,console.log(e),this.turnoSeleccionado=e,"solicitado"==e.estado&&(this.mostrarBoton=!0,this.turnoSeleccionado=e)}cancelarTurno(e){""!==e.trim()?(this.turnoSeleccionado.estado="Cancelado",this.turnoSeleccionado.rese\u00f1aCancelacion=e,this.database.actualizar("turnos",this.turnoSeleccionado,this.turnoSeleccionado.id)):this.mensajeError="El campo de rese\xf1a por cancelaci\xf3n no puede estar vac\xedo"}filtrarTabla(e){const o=e;console.log(o),this.tablaFiltrada=this.turnos.filter(s=>s.especialidad==o)}filtrarTablaEspecialista(e){const o=e;console.log(o),this.tablaFiltrada=this.turnos.filter(s=>s.especialistaId==o)}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(p.T))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-turnos"]],decls:25,vars:5,consts:[[1,"container"],[1,"text-center","text-dark"],[1,"table","table-bordered","table-light"],["scope","col",2,"background-color","#49708a"],["style","background-color: #caff42;","scope","col",4,"ngFor","ngForOf"],[3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"row","justify-content-center"],["class","form-group col-4",4,"ngIf"],["scope","col",2,"background-color","#caff42"],[3,"click"],["scope","row"],[4,"ngFor","ngForOf"],[1,"input-group","input-group-sm","mb-3"],[1,"input-group-prepend"],["id","rese\xf1a",1,"input-group-text",2,"background-color","#ddd"],["type","text","aria-label","Small","aria-describedby","inputGroup-sizing-sm",1,"form-control"],["reseniaInput",""],["class","text-danger",4,"ngIf"],[1,"btn",2,"background-color","#caff42",3,"click"],[1,"text-danger"],[1,"form-group","col-4"],["for","especialidad"],["multiple","","id","especialidad",1,"form-control",2,"background-color","#d0e0eb"],["type","radio","name","especialidadSeleccionada",3,"value","change"],["for","especialista"],["multiple","","id","especialista",1,"form-control",2,"background-color","#d0e0eb"],["type","radio","name","especialista",3,"value","change"]],template:function(o,s){1&o&&(t.TgZ(0,"body")(1,"div",0),t._UZ(2,"br")(3,"br"),t.TgZ(4,"h3",1),t._uU(5,"Turnos"),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"table",2)(8,"thead")(9,"tr")(10,"th",3),t._uU(11,"#"),t.qZA(),t.YNc(12,M,2,1,"th",4),t.qZA()(),t.TgZ(13,"tbody"),t.YNc(14,$,4,2,"tr",5),t.qZA()(),t.YNc(15,R,10,1,"div",6),t._UZ(16,"hr")(17,"br"),t.TgZ(18,"div",7)(19,"h4"),t._uU(20,"Filtrar tablas "),t.qZA(),t.YNc(21,z,5,1,"div",8),t.YNc(22,L,5,1,"div",8),t.qZA(),t._UZ(23,"br")(24,"br"),t.qZA()()),2&o&&(t.xp6(12),t.Q6J("ngForOf",s.turnosKeys),t.xp6(2),t.Q6J("ngForOf",s.tablaFiltrada),t.xp6(1),t.Q6J("ngIf",s.mostrarBoton),t.xp6(6),t.Q6J("ngIf",null!=s.especialidades&&s.especialidades.length>0),t.xp6(1),t.Q6J("ngIf",null!=s.especialistas&&s.especialistas.length>0))},dependencies:[u.sg,u.O5],styles:["body[_ngcontent-%COMP%]{background-color:#88abc2}"]})}return i})();function X(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"h5",7),t._uU(6,"Ver Usuarios"),t.qZA(),t.TgZ(7,"p",8),t._uU(8,"Entra aqui para ver los usuarios dados de alta y habilitar/inhabilitar a los Especialistas"),t.qZA(),t.TgZ(9,"button",9),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.usuarios())}),t._uU(10,"Ver Usuarios"),t.qZA()()()(),t.TgZ(11,"div",4)(12,"div",5)(13,"div",6)(14,"h5",7),t._uU(15,"Registrar Especialista"),t.qZA(),t.TgZ(16,"p",8),t._uU(17,"Entra aqui para dar de alta a un nuevo Especialista"),t.qZA(),t.TgZ(18,"button",9),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.especialista())}),t._uU(19,"Registrar Especialista"),t.qZA()()()()(),t.TgZ(20,"div",3)(21,"div",4)(22,"div",5)(23,"div",6)(24,"h5",7),t._uU(25,"Registrar Paciente"),t.qZA(),t.TgZ(26,"p",8),t._uU(27,"Entra aqui para dar de alta a un nuevo Paciente"),t.qZA(),t.TgZ(28,"button",9),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.paciente())}),t._uU(29,"Registrar Paciente"),t.qZA()()()(),t.TgZ(30,"div",4)(31,"div",5)(32,"div",6)(33,"h5",7),t._uU(34,"Registrar Administrador"),t.qZA(),t.TgZ(35,"p",8),t._uU(36,"Entra aqui para dar de alta a un nuevo Administador"),t.qZA(),t.TgZ(37,"button",9),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.administrador())}),t._uU(38,"Registrar Administador"),t.qZA()()()(),t.TgZ(39,"div",3)(40,"div",4)(41,"div",5)(42,"div",6)(43,"h5",7),t._uU(44,"Turnos"),t.qZA(),t.TgZ(45,"p",8),t._uU(46,"Entra aqui para administrar Turnos"),t.qZA(),t.TgZ(47,"button",9),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.turnos())}),t._uU(48,"Administrar Turnos"),t.qZA()()()()()()()}}function W(i,a){1&i&&(t.TgZ(0,"div"),t._UZ(1,"app-registro-especialista"),t.qZA())}function tt(i,a){1&i&&(t.TgZ(0,"div"),t._UZ(1,"app-registro-paciente"),t.qZA())}function et(i,a){1&i&&(t.TgZ(0,"div"),t._UZ(1,"app-informacion-usuarios"),t.qZA())}function it(i,a){1&i&&(t.TgZ(0,"div"),t._UZ(1,"app-registro-admin"),t.qZA())}function ot(i,a){1&i&&(t.TgZ(0,"div"),t._UZ(1,"app-turnos"),t.qZA())}const st=[{path:"",component:(()=>{class i{constructor(){this.registrarPaciente=!1,this.registrarEspecialista=!1,this.registrarAdministrador=!1,this.mostrarTurnos=!1,this.mostrarUsuarios=!1,this.mostrarCuerpo=!0}paciente(){this.registrarPaciente=!0,this.registrarEspecialista=!1,this.registrarAdministrador=!1,this.mostrarUsuarios=!1,this.mostrarCuerpo=!1,this.mostrarTurnos=!1}especialista(){this.registrarEspecialista=!0,this.registrarPaciente=!1,this.registrarAdministrador=!1,this.mostrarUsuarios=!1,this.mostrarCuerpo=!1,this.mostrarTurnos=!1}administrador(){this.registrarAdministrador=!0,this.registrarPaciente=!1,this.registrarEspecialista=!1,this.mostrarUsuarios=!1,this.mostrarCuerpo=!1,this.mostrarTurnos=!1}usuarios(){this.mostrarUsuarios=!0,this.registrarPaciente=!1,this.registrarEspecialista=!1,this.registrarAdministrador=!1,this.mostrarCuerpo=!1,this.mostrarTurnos=!1}turnos(){this.mostrarUsuarios=!1,this.registrarPaciente=!1,this.registrarEspecialista=!1,this.registrarAdministrador=!1,this.mostrarCuerpo=!1,this.mostrarTurnos=!0}static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-seccion-usuarios"]],decls:13,vars:6,consts:[[1,"container","text-center"],[1,"text-dark"],[4,"ngIf"],[1,"row","mt-5"],[1,"col-sm-6"],[1,"card"],[1,"card-body",2,"background-color","#ebf7f8"],[1,"card-title"],[1,"card-text"],[1,"btn",2,"background-color","#caff42",3,"click"]],template:function(o,s){1&o&&(t.TgZ(0,"body")(1,"div",0),t._UZ(2,"br")(3,"br")(4,"br"),t.TgZ(5,"h1",1),t._uU(6,"Gestion de Sistema"),t.qZA(),t.YNc(7,X,49,0,"div",2),t.YNc(8,W,2,0,"div",2),t.YNc(9,tt,2,0,"div",2),t.YNc(10,et,2,0,"div",2),t.YNc(11,it,2,0,"div",2),t.YNc(12,ot,2,0,"div",2),t.qZA()()),2&o&&(t.xp6(7),t.Q6J("ngIf",s.mostrarCuerpo),t.xp6(1),t.Q6J("ngIf",s.registrarEspecialista),t.xp6(1),t.Q6J("ngIf",s.registrarPaciente),t.xp6(1),t.Q6J("ngIf",s.mostrarUsuarios),t.xp6(1),t.Q6J("ngIf",s.registrarAdministrador),t.xp6(1),t.Q6J("ngIf",s.mostrarTurnos))},dependencies:[u.O5,h.v,Z.e,N,P,V],styles:["body[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#88abc2,transparent);height:100vh;width:100vw;background-repeat:no-repeat}"]})}return i})()}];let at=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[_.Bz.forChild(st),_.Bz]})}return i})();var nt=l(8228);let rt=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[u.ez,at,nt.RegistroModule,n.UX]})}return i})()}}]);